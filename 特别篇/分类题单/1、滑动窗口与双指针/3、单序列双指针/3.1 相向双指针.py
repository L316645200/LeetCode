#!/usr/bin/env python
# -*- coding: UTF-8 -*-
# @File    ï¼š3.1 ç›¸å‘åŒæŒ‡é’ˆ.py
# @Author  ï¼šLin
# @Date    ï¼š2024/11/13 16:45

"""Â§3.1 ç›¸å‘åŒæŒ‡é’ˆ
ä¸¤ä¸ªæŒ‡é’ˆ left=0,right=nâˆ’1ï¼Œä»æ•°ç»„çš„ä¸¤ç«¯å¼€å§‹ï¼Œå‘ä¸­é—´ç§»åŠ¨ï¼Œè¿™å«ç›¸å‘åŒæŒ‡é’ˆã€‚
ä¸Šé¢çš„æ»‘åŠ¨çª—å£ç›¸å½“äºåŒå‘åŒæŒ‡é’ˆã€‚
344. åè½¬å­—ç¬¦ä¸²
125. éªŒè¯å›æ–‡ä¸²
1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦ 1502
2105. ç»™æ¤ç‰©æµ‡æ°´ II 1507
977. æœ‰åºæ•°ç»„çš„å¹³æ–¹ åšåˆ° O(n)
658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 
1471. æ•°ç»„ä¸­çš„ K ä¸ªæœ€å¼ºå€¼ ç”¨åŒæŒ‡é’ˆè§£å†³
167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„
633. å¹³æ–¹æ•°ä¹‹å’Œ
2824. ç»Ÿè®¡å’Œå°äºç›®æ ‡çš„ä¸‹æ ‡å¯¹æ•°ç›®
LCP 28. é‡‡è´­æ–¹æ¡ˆ åŒ 2824 é¢˜
15. ä¸‰æ•°ä¹‹å’Œ
16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ
18. å››æ•°ä¹‹å’Œ
611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°
1577. æ•°çš„å¹³æ–¹ç­‰äºä¸¤æ•°ä¹˜ç§¯çš„æ–¹æ³•æ•° ç”¨åŒæŒ‡é’ˆå®ç°
923. ä¸‰æ•°ä¹‹å’Œçš„å¤šç§å¯èƒ½ 1711
948. ä»¤ç‰Œæ”¾ç½® 1762
11. ç››æœ€å¤šæ°´çš„å®¹å™¨
42. æ¥é›¨æ°´
1616. åˆ†å‰²ä¸¤ä¸ªå­—ç¬¦ä¸²å¾—åˆ°å›æ–‡ä¸² 1868
1498. æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›® 2276
1782. ç»Ÿè®¡ç‚¹å¯¹çš„æ•°ç›® 2457"""
"""ä¸¤ä¸ªæŒ‡é’ˆ
left=0,right=ğ‘›âˆ’1ï¼Œä»æ•°ç»„çš„ä¸¤ç«¯å¼€å§‹ï¼Œå‘ä¸­é—´ç§»åŠ¨ï¼Œè¿™å«ç›¸å‘åŒæŒ‡é’ˆã€‚
ä¸Šé¢çš„æ»‘åŠ¨çª—å£ç›¸å½“äºåŒå‘åŒæŒ‡é’ˆã€‚"""
import math
from collections import Counter, deque
from math import isqrt

"""344. åè½¬å­—ç¬¦ä¸²
ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ s çš„å½¢å¼ç»™å‡ºã€‚
ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šs = ["h","e","l","l","o"]
è¾“å‡ºï¼š["o","l","l","e","h"]
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šs = ["H","a","n","n","a","h"]
è¾“å‡ºï¼š["h","a","n","n","a","H"]
æç¤ºï¼š
1 <= s.length <= 105
s[i] éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦"""


from typing import List


class Solution:
    def reverseString(self, s: List[str]) -> None:
        """
        Do not return anything, modify s in-place instead.
        """
        n = len(s)
        for i in range(n//2):
            s[i], s[n-i-1] = s[n-i-1], s[i]


"""125. éªŒè¯å›æ–‡ä¸²
å¦‚æœåœ¨å°†æ‰€æœ‰å¤§å†™å­—ç¬¦è½¬æ¢ä¸ºå°å†™å­—ç¬¦ã€å¹¶ç§»é™¤æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦ä¹‹åï¼ŒçŸ­è¯­æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·ã€‚åˆ™å¯ä»¥è®¤ä¸ºè¯¥çŸ­è¯­æ˜¯ä¸€ä¸ª å›æ–‡ä¸² ã€‚
å­—æ¯å’Œæ•°å­—éƒ½å±äºå­—æ¯æ•°å­—å­—ç¬¦ã€‚
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¦‚æœå®ƒæ˜¯ å›æ–‡ä¸² ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥: s = "A man, a plan, a canal: Panama"
è¾“å‡ºï¼štrue
è§£é‡Šï¼š"amanaplanacanalpanama" æ˜¯å›æ–‡ä¸²ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šs = "race a car"
è¾“å‡ºï¼šfalse
è§£é‡Šï¼š"raceacar" ä¸æ˜¯å›æ–‡ä¸²ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šs = " "
è¾“å‡ºï¼štrue
è§£é‡Šï¼šåœ¨ç§»é™¤éå­—æ¯æ•°å­—å­—ç¬¦ä¹‹åï¼Œs æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² "" ã€‚
ç”±äºç©ºå­—ç¬¦ä¸²æ­£ç€åç€è¯»éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥æ˜¯å›æ–‡ä¸²ã€‚
æç¤ºï¼š
1 <= s.length <= 2 * 105
s ä»…ç”±å¯æ‰“å°çš„ ASCII å­—ç¬¦ç»„æˆ
"""


class Solution:
    def isPalindrome(self, s: str) -> bool:
        arr = list(filter(str.isalnum, s.lower()))
        for i in range(len(s)//2):
            if arr[i] != arr[-i-1]:
                return False
        return True


class Solution:
    def isPalindrome(self, s: str) -> bool:
        n = len(s)
        left, right = 0, n-1
        while left < right:
            while left < right and not s[left].isalnum():
                left += 1
            while left < right and not s[right].isalnum():
                right -= 1
            if s[left].lower() != s[right].lower():
                return False
            left += 1
            right -= 1
        return True

# s = Solution()
# s.isPalindrome(s = "A man, a plan, a canal: Panama")
"""1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦ 1502
ç»™ä½ ä¸€ä¸ªåªåŒ…å«å­—ç¬¦ 'a'ï¼Œ'b' å’Œ 'c' çš„å­—ç¬¦ä¸² s ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢è¿™ä¸ªæ“ä½œï¼ˆ5 ä¸ªæ­¥éª¤ï¼‰ä»»æ„æ¬¡ï¼š
é€‰æ‹©å­—ç¬¦ä¸² s ä¸€ä¸ª éç©º çš„å‰ç¼€ï¼Œè¿™ä¸ªå‰ç¼€çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒã€‚
é€‰æ‹©å­—ç¬¦ä¸² s ä¸€ä¸ª éç©º çš„åç¼€ï¼Œè¿™ä¸ªåç¼€çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒã€‚
å‰ç¼€å’Œåç¼€åœ¨å­—ç¬¦ä¸²ä¸­ä»»æ„ä½ç½®éƒ½ä¸èƒ½æœ‰äº¤é›†ã€‚
å‰ç¼€å’Œåç¼€åŒ…å«çš„æ‰€æœ‰å­—ç¬¦éƒ½è¦ç›¸åŒã€‚
åŒæ—¶åˆ é™¤å‰ç¼€å’Œåç¼€ã€‚
è¯·ä½ è¿”å›å¯¹å­—ç¬¦ä¸² s æ‰§è¡Œä¸Šé¢æ“ä½œä»»æ„æ¬¡ä»¥åï¼ˆå¯èƒ½ 0 æ¬¡ï¼‰ï¼Œèƒ½å¾—åˆ°çš„ æœ€çŸ­é•¿åº¦ ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šs = "ca"
è¾“å‡ºï¼š2
è§£é‡Šï¼šä½ æ²¡æ³•åˆ é™¤ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²é•¿åº¦ä»ç„¶ä¿æŒä¸å˜ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šs = "cabaabac"
è¾“å‡ºï¼š0
è§£é‡Šï¼šæœ€ä¼˜æ“ä½œåºåˆ—ä¸ºï¼š
- é€‰æ‹©å‰ç¼€ "c" å’Œåç¼€ "c" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "abaaba" ã€‚
- é€‰æ‹©å‰ç¼€ "a" å’Œåç¼€ "a" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "baab" ã€‚
- é€‰æ‹©å‰ç¼€ "b" å’Œåç¼€ "b" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "aa" ã€‚
- é€‰æ‹©å‰ç¼€ "a" å’Œåç¼€ "a" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "" ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šs = "aabccabba"
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€ä¼˜æ“ä½œåºåˆ—ä¸ºï¼š
- é€‰æ‹©å‰ç¼€ "aa" å’Œåç¼€ "a" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "bccabb" ã€‚
- é€‰æ‹©å‰ç¼€ "b" å’Œåç¼€ "bb" å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = "cca" ã€‚
æç¤ºï¼š
1 <= s.length <= 105
s åªåŒ…å«å­—ç¬¦ 'a'ï¼Œ'b' å’Œ 'c' ã€‚

"""


class Solution:
    def minimumLength(self, s: str) -> int:
        left, right = 0, len(s) - 1
        cur = s[0]
        while left < right and s[left] == s[right]:
            while left < right and s[left] == cur:
                left += 1
            while left <= right and s[right] == cur:
                right -= 1
            cur = s[left]
        return right - left + 1


# s = Solution()
# s.minimumLength(s = "cabaabac")
#

"""2105. ç»™æ¤ç‰©æµ‡æ°´ II 1507
Alice å’Œ Bob æ‰“ç®—ç»™èŠ±å›­é‡Œçš„ n æ ªæ¤ç‰©æµ‡æ°´ã€‚æ¤ç‰©æ’æˆä¸€è¡Œï¼Œä»å·¦åˆ°å³è¿›è¡Œæ ‡è®°ï¼Œç¼–å·ä» 0 åˆ° n - 1 ã€‚å…¶ä¸­ï¼Œç¬¬ i æ ªæ¤ç‰©çš„ä½ç½®æ˜¯ x = i ã€‚
æ¯ä¸€æ ªæ¤ç‰©éƒ½éœ€è¦æµ‡ç‰¹å®šé‡çš„æ°´ã€‚Alice å’Œ Bob æ¯äººæœ‰ä¸€ä¸ªæ°´ç½ï¼Œæœ€åˆæ˜¯æ»¡çš„ ã€‚ä»–ä»¬æŒ‰ä¸‹é¢æè¿°çš„æ–¹å¼å®Œæˆæµ‡æ°´ï¼š
 Alice æŒ‰ ä»å·¦åˆ°å³ çš„é¡ºåºç»™æ¤ç‰©æµ‡æ°´ï¼Œä»æ¤ç‰© 0 å¼€å§‹ã€‚Bob æŒ‰ ä»å³åˆ°å·¦ çš„é¡ºåºç»™æ¤ç‰©æµ‡æ°´ï¼Œä»æ¤ç‰© n - 1 å¼€å§‹ã€‚ä»–ä»¬ åŒæ—¶ ç»™æ¤ç‰©æµ‡æ°´ã€‚
å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„æ°´ å®Œå…¨ æµ‡çŒä¸‹ä¸€æ ªæ¤ç‰©ï¼Œä»– / å¥¹ä¼šç«‹å³é‡æ–°çŒæ»¡æµ‡æ°´ç½ã€‚
ä¸ç®¡æ¤ç‰©éœ€è¦å¤šå°‘æ°´ï¼Œæµ‡æ°´æ‰€è€—è´¹çš„æ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ã€‚
ä¸èƒ½ æå‰é‡æ–°çŒæ»¡æ°´ç½ã€‚
æ¯æ ªæ¤ç‰©éƒ½å¯ä»¥ç”± Alice æˆ–è€… Bob æ¥æµ‡æ°´ã€‚
å¦‚æœ Alice å’Œ Bob åˆ°è¾¾åŒä¸€æ ªæ¤ç‰©ï¼Œé‚£ä¹ˆå½“å‰æ°´ç½ä¸­æ°´æ›´å¤šçš„äººä¼šç»™è¿™æ ªæ¤ç‰©æµ‡æ°´ã€‚å¦‚æœä»–ä¿©æ°´é‡ç›¸åŒï¼Œé‚£ä¹ˆ Alice ä¼šç»™è¿™æ ªæ¤ç‰©æµ‡æ°´ã€‚
ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„ plants ï¼Œæ•°ç»„ç”± n ä¸ªæ•´æ•°ç»„æˆã€‚å…¶ä¸­ï¼Œplants[i] ä¸ºç¬¬ i æ ªæ¤ç‰©éœ€è¦çš„æ°´é‡ã€‚å¦æœ‰ä¸¤ä¸ªæ•´æ•° capacityA å’Œ capacityB åˆ†åˆ«è¡¨ç¤º Alice å’Œ Bob æ°´ç½çš„å®¹é‡ã€‚è¿”å›ä¸¤äººæµ‡çŒæ‰€æœ‰æ¤ç‰©è¿‡ç¨‹ä¸­é‡æ–°çŒæ»¡æ°´ç½çš„ æ¬¡æ•° ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šplants = [2,2,3,3], capacityA = 5, capacityB = 5
è¾“å‡ºï¼š1
è§£é‡Šï¼š
- æœ€åˆï¼ŒAlice å’Œ Bob çš„æ°´ç½ä¸­å„æœ‰ 5 å•å…ƒæ°´ã€‚
- Alice ç»™æ¤ç‰© 0 æµ‡æ°´ï¼ŒBob ç»™æ¤ç‰© 3 æµ‡æ°´ã€‚
- Alice å’Œ Bob ç°åœ¨åˆ†åˆ«å‰©ä¸‹ 3 å•å…ƒå’Œ 2 å•å…ƒæ°´ã€‚
- Alice æœ‰è¶³å¤Ÿçš„æ°´ç»™æ¤ç‰© 1 ï¼Œæ‰€ä»¥å¥¹ç›´æ¥æµ‡æ°´ã€‚Bob çš„æ°´ä¸å¤Ÿç»™æ¤ç‰© 2 ï¼Œæ‰€ä»¥ä»–å…ˆé‡æ–°è£…æ»¡æ°´ï¼Œå†æµ‡æ°´ã€‚
æ‰€ä»¥ï¼Œä¸¤äººæµ‡çŒæ‰€æœ‰æ¤ç‰©è¿‡ç¨‹ä¸­é‡æ–°çŒæ»¡æ°´ç½çš„æ¬¡æ•° = 0 + 0 + 1 + 0 = 1 ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šplants = [2,2,3,3], capacityA = 3, capacityB = 4
è¾“å‡ºï¼š2
è§£é‡Šï¼š
- æœ€åˆï¼ŒAlice çš„æ°´ç½ä¸­æœ‰ 3 å•å…ƒæ°´ï¼ŒBob çš„æ°´ç½ä¸­æœ‰ 4 å•å…ƒæ°´ã€‚
- Alice ç»™æ¤ç‰© 0 æµ‡æ°´ï¼ŒBob ç»™æ¤ç‰© 3 æµ‡æ°´ã€‚
- Alice å’Œ Bob ç°åœ¨éƒ½åªæœ‰ 1 å•å…ƒæ°´ï¼Œå¹¶åˆ†åˆ«éœ€è¦ç»™æ¤ç‰© 1 å’Œæ¤ç‰© 2 æµ‡æ°´ã€‚
- ç”±äºä»–ä»¬çš„æ°´é‡å‡ä¸è¶³ä»¥æµ‡æ°´ï¼Œæ‰€ä»¥ä»–ä»¬é‡æ–°çŒæ»¡æ°´ç½å†è¿›è¡Œæµ‡æ°´ã€‚
æ‰€ä»¥ï¼Œä¸¤äººæµ‡çŒæ‰€æœ‰æ¤ç‰©è¿‡ç¨‹ä¸­é‡æ–°çŒæ»¡æ°´ç½çš„æ¬¡æ•° = 0 + 1 + 1 + 0 = 2 ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šplants = [5], capacityA = 10, capacityB = 8
è¾“å‡ºï¼š0
è§£é‡Šï¼š
- åªæœ‰ä¸€æ ªæ¤ç‰©
- Alice çš„æ°´ç½æœ‰ 10 å•å…ƒæ°´ï¼ŒBob çš„æ°´ç½æœ‰ 8 å•å…ƒæ°´ã€‚å› æ­¤ Alice çš„æ°´ç½ä¸­æ°´æ›´å¤šï¼Œå¥¹ä¼šç»™è¿™æ ªæ¤ç‰©æµ‡æ°´ã€‚
æ‰€ä»¥ï¼Œä¸¤äººæµ‡çŒæ‰€æœ‰æ¤ç‰©è¿‡ç¨‹ä¸­é‡æ–°çŒæ»¡æ°´ç½çš„æ¬¡æ•° = 0 ã€‚
æç¤ºï¼š

n == plants.length
1 <= n <= 105
1 <= plants[i] <= 106
max(plants[i]) <= capacityA, capacityB <= 109"""
from typing import List


# æ¨¡æ‹Ÿ
class Solution:
    def minimumRefill(self, plants: List[int], capacityA: int, capacityB: int) -> int:
        n = len(plants)
        a, b = capacityA, capacityB
        left, right = 0, n-1
        res = 0
        while left <= right:
            # å¦‚æœä¸¤ä¸ªäººåˆ°äº†åŒä¸€ä¸ªä½ç½®ï¼Œè®©å‰©ä½™æ°´è¾ƒå¤šçš„äººå»æµ‡æ°´
            if left == right:
                if max(a, b) < plants[left]:
                    res += 1
            else:
                # æ²¡æœ‰è¶³å¤Ÿçš„æ°´ï¼Œéœ€è¦é‡æ–°è£…æ»¡æ°´
                if a < plants[left]:
                    res += 1
                    a = capacityA
                if b < plants[right]:
                    res += 1
                    b = capacityB
                a -= plants[left]
                b -= plants[right]
            left += 1
            right -= 1
        return res

# s = Solution()
# s.minimumRefill(plants = [726,739,934,116,643,648,473,984,482,85,850,806,146,764,156,66,186,339,985,237,662,552,800,78,617,933,481,652,796,594,151,82,183,241,525,221,951,732,799,483,368,354,776,175,974,187,913,842]
#                 , capacityA = 1439, capacityB = 1207)


"""977. æœ‰åºæ•°ç»„çš„å¹³æ–¹ åšåˆ° O(n)
ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [-4,-1,0,3,10]
è¾“å‡ºï¼š[0,1,9,16,100]
è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]
æ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [-7,-3,2,3,11]
è¾“å‡ºï¼š[4,9,9,49,121]
æç¤ºï¼š
1 <= nums.length <= 104
-104 <= nums[i] <= 104
nums å·²æŒ‰ éé€’å‡é¡ºåº æ’åº
è¿›é˜¶ï¼š
è¯·ä½ è®¾è®¡æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æœ¬é—®é¢˜
"""


class Solution:
    def sortedSquares(self, nums: List[int]) -> List[int]:
        n = len(nums)
        left, right = 0, n - 1
        res = [0] * n
        for i in range(n-1,-1,-1):
            if abs(nums[left]) > abs(nums[right]):
                res[i] = nums[left] ** 2
                left += 1
            else:
                res[i] = nums[right] ** 2
                right -= 1
        return res


# s = Solution()
# s.sortedSquares(nums = [-4,-1,0,3,10])


"""658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 
ç»™å®šä¸€ä¸ª æ’åºå¥½ çš„æ•°ç»„ arr ï¼Œä¸¤ä¸ªæ•´æ•° k å’Œ x ï¼Œä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€é è¿‘ xï¼ˆä¸¤æ•°ä¹‹å·®æœ€å°ï¼‰çš„ k ä¸ªæ•°ã€‚è¿”å›çš„ç»“æœå¿…é¡»è¦æ˜¯æŒ‰å‡åºæ’å¥½çš„ã€‚
æ•´æ•° a æ¯”æ•´æ•° b æ›´æ¥è¿‘ x éœ€è¦æ»¡è¶³ï¼š
|a - x| < |b - x| æˆ–è€…
|a - x| == |b - x| ä¸” a < b
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šarr = [1,2,3,4,5], k = 4, x = 3
è¾“å‡ºï¼š[1,2,3,4]
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šarr = [1,1,2,3,4,5], k = 4, x = -1
è¾“å‡ºï¼š[1,1,2,3]
æç¤ºï¼š
1 <= k <= arr.length
1 <= arr.length <= 104
arr æŒ‰ å‡åº æ’åˆ—
-104 <= arr[i], x <= 104
"""


class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        left, right = 0, len(arr) - 1
        while right - left + 1 > k:
            if abs(arr[left] - x) > abs(arr[right] - x):
                left += 1
            else:
                right -= 1
        return arr[left: right + 1]


# s = Solution()
# s.findClosestElements(arr = [1,2,3,4,5], k = 4, x = 3)
"""1471. æ•°ç»„ä¸­çš„ K ä¸ªæœ€å¼ºå€¼ ç”¨åŒæŒ‡é’ˆè§£å†³
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr å’Œä¸€ä¸ªæ•´æ•° k ã€‚
è®¾ m ä¸ºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œåªè¦æ»¡è¶³ä¸‹è¿°ä¸¤ä¸ªå‰æä¹‹ä¸€ï¼Œå°±å¯ä»¥åˆ¤å®š arr[i] çš„å€¼æ¯” arr[j] çš„å€¼æ›´å¼ºï¼š
 |arr[i] - m| > |arr[j] - m|
 |arr[i] - m| == |arr[j] - m|ï¼Œä¸” arr[i] > arr[j]
è¯·è¿”å›ç”±æ•°ç»„ä¸­æœ€å¼ºçš„ k ä¸ªå€¼ç»„æˆçš„åˆ—è¡¨ã€‚ç­”æ¡ˆå¯ä»¥ä»¥ ä»»æ„é¡ºåº è¿”å›ã€‚
ä¸­ä½æ•° æ˜¯ä¸€ä¸ªæœ‰åºæ•´æ•°åˆ—è¡¨ä¸­å¤„äºä¸­é—´ä½ç½®çš„å€¼ã€‚å½¢å¼ä¸Šï¼Œå¦‚æœåˆ—è¡¨çš„é•¿åº¦ä¸º n ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯è¯¥æœ‰åºåˆ—è¡¨ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ä¸­ä½äº ((n - 1) / 2) çš„å…ƒç´ ã€‚
ä¾‹å¦‚ arr = [6, -3, 7, 2, 11]ï¼Œn = 5ï¼šæ•°ç»„æ’åºåå¾—åˆ° arr = [-3, 2, 6, 7, 11] ï¼Œæ•°ç»„çš„ä¸­é—´ä½ç½®ä¸º m = ((5 - 1) / 2) = 2 ï¼Œä¸­ä½æ•° arr[m] çš„å€¼ä¸º 6 ã€‚
ä¾‹å¦‚ arr = [-7, 22, 17,â€‰3]ï¼Œn = 4ï¼šæ•°ç»„æ’åºåå¾—åˆ° arr = [-7, 3, 17, 22] ï¼Œæ•°ç»„çš„ä¸­é—´ä½ç½®ä¸º m = ((4 - 1) / 2) = 1 ï¼Œä¸­ä½æ•° arr[m] çš„å€¼ä¸º 3 ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šarr = [1,2,3,4,5], k = 2
è¾“å‡ºï¼š[5,1]
è§£é‡Šï¼šä¸­ä½æ•°ä¸º 3ï¼ŒæŒ‰ä»å¼ºåˆ°å¼±é¡ºåºæ’åºåï¼Œæ•°ç»„å˜ä¸º [5,1,4,2,3]ã€‚æœ€å¼ºçš„ä¸¤ä¸ªå…ƒç´ æ˜¯ [5, 1]ã€‚[1, 5] ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚
æ³¨æ„ï¼Œå°½ç®¡ |5 - 3| == |1 - 3| ï¼Œä½†æ˜¯ 5 æ¯” 1 æ›´å¼ºï¼Œå› ä¸º 5 > 1 ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šarr = [1,1,3,5,5], k = 2
è¾“å‡ºï¼š[5,5]
è§£é‡Šï¼šä¸­ä½æ•°ä¸º 3, æŒ‰ä»å¼ºåˆ°å¼±é¡ºåºæ’åºåï¼Œæ•°ç»„å˜ä¸º [5,5,1,1,3]ã€‚æœ€å¼ºçš„ä¸¤ä¸ªå…ƒç´ æ˜¯ [5, 5]ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šarr = [6,7,11,7,6,8], k = 5
è¾“å‡ºï¼š[11,8,6,6,7]
è§£é‡Šï¼šä¸­ä½æ•°ä¸º 7, æŒ‰ä»å¼ºåˆ°å¼±é¡ºåºæ’åºåï¼Œæ•°ç»„å˜ä¸º [11,8,6,6,7,7]ã€‚
[11,8,6,6,7] çš„ä»»ä½•æ’åˆ—éƒ½æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚
ç¤ºä¾‹ 4ï¼š
è¾“å…¥ï¼šarr = [6,-3,7,2,11], k = 3
è¾“å‡ºï¼š[-3,11,2]
ç¤ºä¾‹ 5ï¼š
è¾“å…¥ï¼šarr = [-7,22,17,3], k = 2
è¾“å‡ºï¼š[22,17]
æç¤ºï¼š
1 <= arr.length <= 10^5
-10^5 <= arr[i] <= 10^5
1 <= k <= arr.length
"""


class Solution:
    def getStrongest(self, arr: List[int], k: int) -> List[int]:
        arr.sort()
        n = len(arr)
        mid = arr[(n-1)//2]
        res = []
        left, right = 0, n-1
        for i in range(k):
            if arr[right] - mid >= mid - arr[left]:
                res.append(arr[right])
                right -= 1
            else:
                res.append(arr[left])
                left += 1
        return res
# s = Solution()
# s.getStrongest(arr = [6,7,11,7,6,8], k = 5)

"""167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„
ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 1 å¼€å§‹çš„æ•´æ•°æ•°ç»„ numbers ï¼Œè¯¥æ•°ç»„å·²æŒ‰ éé€’å‡é¡ºåºæ’åˆ—  ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° target çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯ numbers[index1] å’Œ numbers[index2] ï¼Œåˆ™ 1 <= index1 < index2 <= numbers.length ã€‚

ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ [index1, index2] çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ index1 å’Œ index2ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ ï¼Œè€Œä¸”ä½  ä¸å¯ä»¥ é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚

ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚

 
ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnumbers = [2,7,11,15], target = 9
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnumbers = [2,3,4], target = 6
è¾“å‡ºï¼š[1,3]
è§£é‡Šï¼š2 ä¸ 4 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 6 ã€‚å› æ­¤ index1 = 1, index2 = 3 ã€‚è¿”å› [1, 3] ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnumbers = [-1,0], target = -1
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š-1 ä¸ 0 ä¹‹å’Œç­‰äºç›®æ ‡æ•° -1 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚
 

æç¤ºï¼š

2 <= numbers.length <= 3 * 104
-1000 <= numbers[i] <= 1000
numbers æŒ‰ éé€’å‡é¡ºåº æ’åˆ—
-1000 <= target <= 1000
ä»…å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ
"""


class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        left, right = 0, len(numbers) - 1
        while left < right:
            if numbers[left] + numbers[right] == target:
                return [left, right]
            elif numbers[left] + numbers[right] > target:
                right -= 1
            else:
                left += 1


"""633. å¹³æ–¹æ•°ä¹‹å’Œ
ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° c ï¼Œä½ è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•´æ•° a å’Œ bï¼Œä½¿å¾— a2 + b2 = c ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šc = 5
è¾“å‡ºï¼štrue
è§£é‡Šï¼š1 * 1 + 2 * 2 = 5
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šc = 3
è¾“å‡ºï¼šfalse
æç¤ºï¼š
0 <= c <= 231 - 1"""

class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        a = 0
        while a * a * 2 <= c:
            b = isqrt(c - a * a)
            if a * a + b * b == c:
                return True
            a += 1
        return False

class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        a, b = 0, isqrt(c)
        while a <= b:
            if a * a + b * b == c:
                return True
            elif a * a + b * b > c:
                b -= 1
            else:
                a += 1
        return False


# s = Solution()
# s.judgeSquareSum(1000)

"""2824. ç»Ÿè®¡å’Œå°äºç›®æ ‡çš„ä¸‹æ ‡å¯¹æ•°ç›®
ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹é•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ 0 <= i < j < n ä¸” nums[i] + nums[j] < target çš„ä¸‹æ ‡å¯¹ (i, j) çš„æ•°ç›®ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [-1,1,2,3,1], target = 2
è¾“å‡ºï¼š3
è§£é‡Šï¼šæ€»å…±æœ‰ 3 ä¸ªä¸‹æ ‡å¯¹æ»¡è¶³é¢˜ç›®æè¿°ï¼š
- (0, 1) ï¼Œ0 < 1 ä¸” nums[0] + nums[1] = 0 < target
- (0, 2) ï¼Œ0 < 2 ä¸” nums[0] + nums[2] = 1 < target 
- (0, 4) ï¼Œ0 < 4 ä¸” nums[0] + nums[4] = 0 < target
æ³¨æ„ (0, 3) ä¸è®¡å…¥ç­”æ¡ˆå› ä¸º nums[0] + nums[3] ä¸æ˜¯ä¸¥æ ¼å°äº target ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [-6,2,5,-2,-7,-1,3], target = -2
è¾“å‡ºï¼š10
è§£é‡Šï¼šæ€»å…±æœ‰ 10 ä¸ªä¸‹æ ‡å¯¹æ»¡è¶³é¢˜ç›®æè¿°ï¼š
- (0, 1) ï¼Œ0 < 1 ä¸” nums[0] + nums[1] = -4 < target
- (0, 3) ï¼Œ0 < 3 ä¸” nums[0] + nums[3] = -8 < target
- (0, 4) ï¼Œ0 < 4 ä¸” nums[0] + nums[4] = -13 < target
- (0, 5) ï¼Œ0 < 5 ä¸” nums[0] + nums[5] = -7 < target
- (0, 6) ï¼Œ0 < 6 ä¸” nums[0] + nums[6] = -3 < target
- (1, 4) ï¼Œ1 < 4 ä¸” nums[1] + nums[4] = -5 < target
- (3, 4) ï¼Œ3 < 4 ä¸” nums[3] + nums[4] = -9 < target
- (3, 5) ï¼Œ3 < 5 ä¸” nums[3] + nums[5] = -3 < target
- (4, 5) ï¼Œ4 < 5 ä¸” nums[4] + nums[5] = -8 < target
- (4, 6) ï¼Œ4 < 6 ä¸” nums[4] + nums[6] = -4 < target
æç¤ºï¼š
1 <= nums.length == n <= 50
-50 <= nums[i], target <= 50
"""


class Solution:
    def countPairs(self, nums: List[int], target: int) -> int:
        nums.sort()
        n = len(nums)
        left, right = 0, n-1
        res = 0
        while left < right:
            while left < right and nums[left] + nums[right] >= target:
                right -= 1
            res += right - left
            left += 1
        return res

# s = Solution()
# s.countPairs(nums = [-6,2,5,-2,-7,-1,3], target = -2)

"""LCP 28. é‡‡è´­æ–¹æ¡ˆ åŒ 2824 é¢˜
å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚
æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [2,5,3,5], target = 6
è¾“å‡ºï¼š1
è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸ nums[2]ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [2,2,1,9], target = 10
è¾“å‡ºï¼š4
è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼š nums[0] + nums[1] = 4 nums[0] + nums[2] = 3 nums[1] + nums[2] = 3 nums[2] + nums[3] = 10
æç¤ºï¼š
2 <= nums.length <= 10^5
1 <= nums[i], target <= 10^5
"""

class Solution:
    def purchasePlans(self, nums: List[int], target: int) -> int:
        nums.sort()
        n = len(nums)
        left, right = 0, n - 1
        res = 0
        while left < right:
            if nums[left] + nums[right] <= target:
                res += right - left
                left += 1
            else:
                right -= 1
        return res % (10 ** 9 + 7)

# s = Solution()
# s.purchasePlans(nums = [2,2,1,9], target = 10)

"""15. ä¸‰æ•°ä¹‹å’Œ
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i != jã€i != k ä¸” j != k ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] == 0 ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
æç¤ºï¼š
3 <= nums.length <= 3000
-105 <= nums[i] <= 105
"""
# TODO ä¼˜åŒ–ç­–ç•¥
#

class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        nums.sort()
        n = len(nums)
        res = []
        for i in range(n - 2):
            if i > 0 and nums[i] == nums[i-1]:
                continue
            left, right = i + 1, n - 1
            while left < right:
                if left > i + 1 and nums[left] == nums[left-1]:
                    left += 1
                    continue
                s = nums[i] + nums[left] + nums[right]
                if s == 0:
                    res.append([nums[i], nums[left], nums[right]])
                    left += 1
                    right -= 1
                elif s > 0:
                    right -= 1
                else:
                    left += 1
        return res

# s = Solution()
# s.threeSum(nums = [-1,0,1,2,-1,-4,-2,-3,3,0,4])

"""16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ
ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ nums å’Œ ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ ä» nums ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ target æœ€æ¥è¿‘ã€‚
è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚
å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2)ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [0,0,0], target = 1
è¾“å‡ºï¼š0
è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 0ï¼ˆ0 + 0 + 0 = 0ï¼‰ã€‚
æç¤ºï¼š
3 <= nums.length <= 1000
-1000 <= nums[i] <= 1000
-104 <= target <= 104
"""


class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        nums.sort()
        n = len(nums)
        res = sum(nums[:3])
        for i in range(n - 2):
            left, right = i + 1, n - 1

            while left < right:
                s = nums[i] + nums[left] + nums[right]
                if abs(s - target) < abs(res - target):
                    res = s
                if s == target:
                    return res
                elif s > target:
                    right -= 1
                else:
                    left += 1
        return res


# s = Solution()
# s.threeSumClosest(nums = [0,1,2], target = 0)

"""18. å››æ•°ä¹‹å’Œ
ç»™ä½ ä¸€ä¸ªç”± n ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ [nums[a], nums[b], nums[c], nums[d]] ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š
0 <= a, b, c, d < n
aã€bã€c å’Œ d äº’ä¸ç›¸åŒ
nums[a] + nums[b] + nums[c] + nums[d] == target
ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆ ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0
è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8
è¾“å‡ºï¼š[[2,2,2,2]]
æç¤ºï¼š
1 <= nums.length <= 200
-109 <= nums[i] <= 109
-109 <= target <= 109
"""
# TODO ä¼˜åŒ–ç­–ç•¥
"""è®¾ s=nums[a]+nums[a+1]+nums[a+2]+nums[a+3]ã€‚å¦‚æœ s>targetï¼Œç”±äºæ•°ç»„å·²ç»æ’åºï¼Œ
åé¢æ— è®ºæ€ä¹ˆé€‰ï¼Œé€‰å‡ºçš„å››ä¸ªæ•°çš„å’Œä¸ä¼šæ¯” s è¿˜å°ï¼Œæ‰€ä»¥åé¢ä¸ä¼šæ‰¾åˆ°ç­‰äº target çš„å››æ•°ä¹‹å’Œäº†ã€‚
æ‰€ä»¥åªè¦ s>targetï¼Œå°±å¯ä»¥ç›´æ¥ break å¤–å±‚å¾ªç¯äº†ã€‚
è®¾ s=nums[a]+nums[nâˆ’3]+nums[nâˆ’2]+nums[nâˆ’1]ã€‚å¦‚æœ s<targetï¼Œç”±äºæ•°ç»„å·²ç»æ’åºï¼Œ
nums[a] åŠ ä¸Šåé¢ä»»æ„ä¸‰ä¸ªæ•°éƒ½ä¸ä¼šè¶…è¿‡ sï¼Œ
æ‰€ä»¥æ— æ³•åœ¨åé¢æ‰¾åˆ°å¦å¤–ä¸‰ä¸ªæ•°ä¸ nums[a] ç›¸åŠ ç­‰äº targetã€‚
ä½†æ˜¯åé¢è¿˜æœ‰æ›´å¤§çš„ nums[a]ï¼Œå¯èƒ½å‡ºç°å››æ•°ä¹‹å’Œç­‰äº target çš„æƒ…å†µï¼Œæ‰€ä»¥è¿˜éœ€è¦ç»§ç»­æšä¸¾ï¼Œ
continue å¤–å±‚å¾ªç¯ã€‚
"""

class Solution:
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        nums.sort()
        n = len(nums)
        res = []
        for i in range(n - 3):
            # é‡å¤å€¼è·³è¿‡
            if i > 0 and nums[i] == nums[i-1]:
                continue
            for j in range(i+1, n - 2):
                # é‡å¤å€¼è·³è¿‡
                if j > i + 1 and nums[j] == nums[j - 1]:
                    continue
                left, right = j + 1, n - 1
                while left < right:
                    # é‡å¤å€¼è·³è¿‡
                    if left > j + 1 and nums[left] == nums[left - 1]:
                        left += 1
                        continue
                    s = nums[i] + nums[j] + nums[left] + nums[right]
                    if s == target:
                        res.append([nums[i], nums[j], nums[left], nums[right]])
                        left += 1
                        right -= 1
                    elif s > target:
                        right -= 1
                    else:
                        left += 1
        return res


# s = Solution()
# s.fourSum(nums=[1, 0, -1, 0, -2, 2], target=0)

"""611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°
ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ä¸­å¯ä»¥ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„ä¸‰å…ƒç»„ä¸ªæ•°ã€‚
ç¤ºä¾‹ 1:
è¾“å…¥: nums = [2,2,3,4]
è¾“å‡º: 3
è§£é‡Š:æœ‰æ•ˆçš„ç»„åˆæ˜¯: 
2,3,4 (ä½¿ç”¨ç¬¬ä¸€ä¸ª 2)
2,3,4 (ä½¿ç”¨ç¬¬äºŒä¸ª 2)
2,2,3
ç¤ºä¾‹ 2:
è¾“å…¥: nums = [4,2,3,4]
è¾“å‡º: 4
æç¤º:
1 <= nums.length <= 1000
0 <= nums[i] <= 1000
"""


class Solution:
    def triangleNumber(self, nums: List[int]) -> int:
        nums.sort()
        n = len(nums)
        res = 0
        for i in range(n-2):
            k = i + 1
            for j in range(i + 1, n):
                while k < n and nums[i] + nums[j] > nums[k]:
                    k += 1
                res += max(k - j - 1, 0)
        return res

# s = Solution()
# s.triangleNumber(nums = [4,2,3,4])

"""1577. æ•°çš„å¹³æ–¹ç­‰äºä¸¤æ•°ä¹˜ç§¯çš„æ–¹æ³•æ•° ç”¨åŒæŒ‡é’ˆå®ç°
ç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ nums1 å’Œ nums2 ï¼Œè¯·ä½ è¿”å›æ ¹æ®ä»¥ä¸‹è§„åˆ™å½¢æˆçš„ä¸‰å…ƒç»„çš„æ•°ç›®ï¼ˆç±»å‹ 1 å’Œç±»å‹ 2 ï¼‰ï¼š
ç±»å‹ 1ï¼šä¸‰å…ƒç»„ (i, j, k) ï¼Œå¦‚æœ nums1[i]2 == nums2[j] * nums2[k] å…¶ä¸­ 0 <= i < nums1.length ä¸” 0 <= j < k < nums2.length
ç±»å‹ 2ï¼šä¸‰å…ƒç»„ (i, j, k) ï¼Œå¦‚æœ nums2[i]2 == nums1[j] * nums1[k] å…¶ä¸­ 0 <= i < nums2.length ä¸” 0 <= j < k < nums1.length
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums1 = [7,4], nums2 = [5,2,8,9]
è¾“å‡ºï¼š1
è§£é‡Šï¼šç±»å‹ 1ï¼š(1,1,2), nums1[1]^2 = nums2[1] * nums2[2] (4^2 = 2 * 8)
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums1 = [1,1], nums2 = [1,1,1]
è¾“å‡ºï¼š9
è§£é‡Šï¼šæ‰€æœ‰ä¸‰å…ƒç»„éƒ½ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼Œå› ä¸º 1^2 = 1 * 1
ç±»å‹ 1ï¼š(0,0,1), (0,0,2), (0,1,2), (1,0,1), (1,0,2), (1,1,2), nums1[i]^2 = nums2[j] * nums2[k]
ç±»å‹ 2ï¼š(0,0,1), (1,0,1), (2,0,1), nums2[i]^2 = nums1[j] * nums1[k]
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums1 = [7,7,8,3], nums2 = [1,2,9,7]
è¾“å‡ºï¼š2
è§£é‡Šï¼šæœ‰ä¸¤ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„ä¸‰å…ƒç»„
ç±»å‹ 1ï¼š(3,0,2), nums1[3]^2 = nums2[0] * nums2[2]
ç±»å‹ 2ï¼š(3,0,1), nums2[3]^2 = nums1[0] * nums1[1]
ç¤ºä¾‹ 4ï¼š
è¾“å…¥ï¼šnums1 = [4,7,9,11,23], nums2 = [3,5,1024,12,18]
è¾“å‡ºï¼š0
è§£é‡Šï¼šä¸å­˜åœ¨ç¬¦åˆé¢˜ç›®è¦æ±‚çš„ä¸‰å…ƒç»„
æç¤ºï¼š
1 <= nums1.length, nums2.length <= 1000
1 <= nums1[i], nums2[i] <= 10^5
"""


class Solution:
    def numTriplets(self, nums1: List[int], nums2: List[int]) -> int:
        # å“ˆå¸Œæ¬¡æ•°
        cnt1, cnt2 = Counter(nums1), Counter(nums2)
        # å»é‡æ’åº
        nums1 = sorted(list(set(nums1)))
        nums2 = sorted(list(set(nums2)))
        res = 0
        m, n = len(nums1), len(nums2)
        # åŒæŒ‡é’ˆ
        for i in range(m):
            left, right = 0, n - 1
            while left <= right:

                if nums1[i] ** 2 == nums2[left] * nums2[right]:
                    if left == right:
                        res += cnt2[nums2[left]] * (cnt2[nums2[left]] - 1) // 2 * cnt1[nums1[i]]
                    else:
                        res += cnt2[nums2[left]] * cnt2[nums2[right]] * cnt1[nums1[i]]
                    left += 1
                    right -= 1
                elif nums1[i] ** 2 > nums2[left] * nums2[right]:
                    left += 1
                else:
                    right -= 1
        for i in range(n):
            left, right = 0, m - 1
            while left <= right:
                if nums2[i] ** 2 == nums1[left] * nums1[right]:
                    if left == right:
                        res += cnt1[nums1[left]] * (cnt1[nums1[left]] - 1) // 2 * cnt2[nums2[i]]
                    else:
                        res += cnt1[nums1[left]] * cnt1[nums1[right]] * cnt2[nums2[i]]
                    left += 1
                    right -= 1
                elif nums2[i] ** 2 > nums1[left] * nums1[right]:
                    left += 1
                else:
                    right -= 1
        return res


# s = Solution()
# s.numTriplets(nums1 = [7,4], nums2 = [5,2,8,9])
"""923. ä¸‰æ•°ä¹‹å’Œçš„å¤šç§å¯èƒ½ 1711
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° target ä½œä¸ºç›®æ ‡å€¼ï¼Œè¿”å›æ»¡è¶³ i < j < k ä¸” arr[i] + arr[j] + arr[k] == target çš„å…ƒç»„ i, j, k çš„æ•°é‡ã€‚
ç”±äºç»“æœä¼šéå¸¸å¤§ï¼Œè¯·è¿”å› 109 + 7 çš„æ¨¡ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šarr = [1,1,2,2,3,3,4,4,5,5], target = 8
è¾“å‡ºï¼š20
è§£é‡Šï¼š
æŒ‰å€¼æšä¸¾(arr[i], arr[j], arr[k])ï¼š
(1, 2, 5) å‡ºç° 8 æ¬¡ï¼›
(1, 3, 4) å‡ºç° 8 æ¬¡ï¼›
(2, 2, 4) å‡ºç° 2 æ¬¡ï¼›
(2, 3, 3) å‡ºç° 2 æ¬¡ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šarr = [1,1,2,2,2,2], target = 5
è¾“å‡ºï¼š12
è§£é‡Šï¼š
arr[i] = 1, arr[j] = arr[k] = 2 å‡ºç° 12 æ¬¡ï¼š
æˆ‘ä»¬ä» [1,1] ä¸­é€‰æ‹©ä¸€ä¸ª 1ï¼Œæœ‰ 2 ç§æƒ…å†µï¼Œ
ä» [2,2,2,2] ä¸­é€‰å‡ºä¸¤ä¸ª 2ï¼Œæœ‰ 6 ç§æƒ…å†µã€‚
æç¤ºï¼š
3 <= arr.length <= 3000
0 <= arr[i] <= 100
0 <= target <= 300
"""


class Solution:
    def threeSumMulti(self, arr: List[int], target: int) -> int:
        cnt = Counter(arr)
        arr = sorted(list(set(arr)))
        n = len(arr)
        res = 0
        # éå†i
        for i in range(n):
            # å› ä¸ºæ˜¯å»é‡çš„æ•°ç»„ï¼Œæ‰€ä»¥ä¸‹æ ‡å¯èƒ½é‡åˆ
            left, right = i, n-1
            while left <= right:
                # ä¸‰æ•°ä¹‹å’Œ
                s = arr[i] + arr[left] + arr[right]
                # ä¸‰æ•°ä¹‹å’Œ å¤ªå¤§å³æŒ‡é’ˆå·¦ç§»ï¼Œå¤ªå°å·¦æŒ‡é’ˆå³ç§»
                if s > target:
                    right -= 1
                elif s < target:
                    left += 1
                else:  # ä¸‰æ•°ä¹‹å’Œç­‰äºç›®æ ‡å€¼
                    if i == right:  # ä¸‰ä¸ªæŒ‡é’ˆç›¸ç­‰
                        res += math.comb(cnt[arr[i]], 3)
                    elif i == left:  # å‰ä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰
                        res += math.comb(cnt[arr[i]], 2) * cnt[arr[right]]
                    elif left == right:  # åä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰
                        res += math.comb(cnt[arr[left]], 2) * cnt[arr[i]]
                    else:  # ä¸‰ä¸ªæŒ‡é’ˆéƒ½ä¸ç›¸ç­‰
                        res += cnt[arr[i]] * cnt[arr[left]] * cnt[arr[right]]
                    left += 1
                    right -= 1
        return res % (10 ** 9 + 7)


# s = Solution()
# s.threeSumMulti(arr = [1,1,2,2,3,3,4,4,5,5], target = 8)

"""948. ä»¤ç‰Œæ”¾ç½® 1762
ä½ çš„åˆå§‹ èƒ½é‡ ä¸º powerï¼Œåˆå§‹ åˆ†æ•° ä¸º 0ï¼Œåªæœ‰ä¸€åŒ…ä»¤ç‰Œä»¥æ•´æ•°æ•°ç»„ tokens ç»™å‡ºã€‚å…¶ä¸­ tokens[i] æ˜¯ç¬¬ i ä¸ªä»¤ç‰Œçš„å€¼ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚

ä½ çš„ç›®æ ‡æ˜¯é€šè¿‡æœ‰ç­–ç•¥åœ°ä½¿ç”¨è¿™äº›ä»¤ç‰Œä»¥ æœ€å¤§åŒ– æ€» åˆ†æ•°ã€‚åœ¨ä¸€æ¬¡è¡ŒåŠ¨ä¸­ï¼Œä½ å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼ä¸­çš„ä¸€ç§æ¥ä½¿ç”¨ä¸€ä¸ª æœªè¢«ä½¿ç”¨çš„ ä»¤ç‰Œï¼ˆä½†ä¸æ˜¯å¯¹åŒä¸€ä¸ªä»¤ç‰Œä½¿ç”¨ä¸¤ç§æ–¹å¼ï¼‰ï¼š

æœä¸Šï¼šå¦‚æœä½ å½“å‰ è‡³å°‘ æœ‰ tokens[i] ç‚¹ èƒ½é‡ ï¼Œå¯ä»¥ä½¿ç”¨ä»¤ç‰Œ i ï¼Œå¤±å» tokens[i] ç‚¹ èƒ½é‡ ï¼Œå¹¶å¾—åˆ° 1 åˆ† ã€‚
æœä¸‹ï¼šå¦‚æœä½ å½“å‰è‡³å°‘æœ‰ 1 åˆ† ï¼Œå¯ä»¥ä½¿ç”¨ä»¤ç‰Œ i ï¼Œè·å¾— tokens[i] ç‚¹ èƒ½é‡ ï¼Œå¹¶å¤±å» 1 åˆ† ã€‚
åœ¨ä½¿ç”¨ ä»»æ„ æ•°é‡çš„ä»¤ç‰Œåï¼Œè¿”å›æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å¤§ åˆ†æ•° ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼štokens = [100], power = 50
è¾“å‡ºï¼š0
è§£é‡Šï¼šå› ä¸ºä½ çš„åˆå§‹åˆ†æ•°ä¸º 0ï¼Œæ— æ³•ä½¿ä»¤ç‰Œæœä¸‹ã€‚ä½ ä¹Ÿä¸èƒ½ä½¿ä»¤ç‰Œæœä¸Šå› ä¸ºä½ çš„èƒ½é‡ï¼ˆ50ï¼‰æ¯” tokens[0] å°‘ï¼ˆ100ï¼‰ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼štokens = [200,100], power = 150
è¾“å‡ºï¼š1
è§£é‡Šï¼šä½¿ä»¤ç‰Œ 1 æ­£é¢æœä¸Šï¼Œèƒ½é‡å˜ä¸º 50ï¼Œåˆ†æ•°å˜ä¸º 1 ã€‚
ä¸å¿…ä½¿ç”¨ä»¤ç‰Œ 0ï¼Œå› ä¸ºä½ æ— æ³•ä½¿ç”¨å®ƒæ¥æé«˜åˆ†æ•°ã€‚å¯å¾—åˆ°çš„æœ€å¤§åˆ†æ•°æ˜¯ 1ã€‚
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼štokens = [100,200,300,400], power = 200
è¾“å‡ºï¼š2
è§£é‡Šï¼šæŒ‰ä¸‹é¢é¡ºåºä½¿ç”¨ä»¤ç‰Œå¯ä»¥å¾—åˆ° 2 åˆ†ï¼š
1. ä»¤ç‰Œ 0 (100)æ­£é¢æœä¸Šï¼Œèƒ½é‡å˜ä¸º 100 ï¼Œåˆ†æ•°å˜ä¸º 1
2. ä»¤ç‰Œ 3 (400)æ­£é¢æœä¸‹ï¼Œèƒ½é‡å˜ä¸º 500 ï¼Œåˆ†æ•°å˜ä¸º 0
3. ä»¤ç‰Œ 1 (200)æ­£é¢æœä¸Šï¼Œèƒ½é‡å˜ä¸º 300 ï¼Œåˆ†æ•°å˜ä¸º 1
4. ä»¤ç‰Œ 2 (300)æ­£é¢æœä¸Šï¼Œèƒ½é‡å˜ä¸º 0 ï¼Œåˆ†æ•°å˜ä¸º 2
å¯å¾—çš„æœ€å¤§åˆ†æ•°æ˜¯ 2ã€‚
æç¤ºï¼š
0 <= tokens.length <= 1000
0 <= tokens[i], power < 104
"""


class Solution:
    def bagOfTokensScore(self, tokens: List[int], power: int) -> int:
        tokens.sort()  # æ’åº
        res = score = 0
        n = len(tokens)
        # å·¦å³æŒ‡é’ˆ
        left, right = 0, n - 1
        while left <= right:
            # å¦‚æœèƒ½é‡å……è¶³ï¼Œä¼˜å…ˆå»å¾—åˆ°åˆ†æ•°
            if power >= tokens[left]:
                score += 1
                power -= tokens[left]
                res = max(res, score)
                left += 1
            else:
                # èƒ½é‡ä¸è¶³ä¸”åˆ†æ•°ä¸å¤Ÿæ—¶ç›´æ¥è¿”å›
                if score == 0:
                    return res
                score -= 1
                power += tokens[right]
                right -= 1
        return res


s = Solution()
s.bagOfTokensScore(tokens = [100,200,300,400], power = 200)


"""11. ç››æœ€å¤šæ°´çš„å®¹å™¨
ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ height ã€‚æœ‰ n æ¡å‚çº¿ï¼Œç¬¬ i æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ (i, 0) å’Œ (i, height[i]) ã€‚
æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚
è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚
è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
è¾“å‡ºï¼š49 
è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šheight = [1,1]
è¾“å‡ºï¼š1
æç¤ºï¼š
n == height.length
2 <= n <= 105
0 <= height[i] <= 104"""


class Solution:
    def maxArea(self, height: List[int]) -> int:
        n = len(height)
        left, right = 0, n - 1
        res = 0
        while left < right:
            res = max(res, min(height[left], height[right]) * (right - left))

            if height[left] <= height[right]:
                left += 1
            else:
                right -= 1
        return res

"""42. æ¥é›¨æ°´
ç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šheight = [4,2,0,3,2,5]
è¾“å‡ºï¼š9
æç¤ºï¼š
n == height.length
1 <= n <= 2 * 104
0 <= height[i] <= 105
"""

# åŠ¨æ€è§„åˆ’
class Solution:
    def trap(self, height: List[int]) -> int:
        n = len(height)
        left_max, right_max = [height[0]] * n, [height[-1]] * n
        for i in range(1, n):
            left_max[i] = max(left_max[i-1], height[i])
            right_max[n-i-1] = max(right_max[n-i], height[n-i-1])
        return sum([min(left_max[i], right_max[i]) - height[i] for i in range(n)])


# å•è°ƒæ ˆ
class Solution:
    def trap(self, height: List[int]) -> int:
        deq = deque()
        res = 0
        for i, h in enumerate(height):
            print(deq, res)
            while deq and h > height[deq[-1]]:
                top = deq.pop()
                if not deq:
                    break
                left = deq[-1]
                cur_width = i - left - 1
                res += (min(height[left], h) - height[top]) * cur_width
            deq.append(i)
        return res

# åŒæŒ‡é’ˆ
"""æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆ
åŠ¨æ€è§„åˆ’çš„åšæ³•ä¸­ï¼Œéœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„ leftMax å’Œ rightMaxï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚
æ˜¯å¦å¯ä»¥å°†ç©ºé—´å¤æ‚åº¦é™åˆ° O(1)ï¼Ÿ

æ³¨æ„åˆ°ä¸‹æ ‡ i å¤„èƒ½æ¥çš„é›¨æ°´é‡ç”± leftMax[i] å’Œ rightMax[i] ä¸­çš„æœ€å°å€¼å†³å®šã€‚
ç”±äºæ•°ç»„ leftMax æ˜¯ä»å·¦å¾€å³è®¡ç®—ï¼Œæ•°ç»„ rightMax æ˜¯ä»å³å¾€å·¦è®¡ç®—ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆå’Œä¸¤ä¸ªå˜é‡ä»£æ›¿ä¸¤ä¸ªæ•°ç»„ã€‚

ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆ left å’Œ rightï¼Œä»¥åŠä¸¤ä¸ªå˜é‡ leftMax å’Œ rightMaxï¼Œåˆå§‹æ—¶ left=0,right=nâˆ’1,leftMax=0,rightMax=0ã€‚æŒ‡é’ˆ left åªä¼šå‘å³ç§»åŠ¨ï¼ŒæŒ‡é’ˆ right åªä¼šå‘å·¦ç§»åŠ¨ï¼Œåœ¨ç§»åŠ¨æŒ‡é’ˆçš„è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸¤ä¸ªå˜é‡ leftMax å’Œ rightMax çš„å€¼ã€‚

å½“ä¸¤ä¸ªæŒ‡é’ˆæ²¡æœ‰ç›¸é‡æ—¶ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š

ä½¿ç”¨ height[left] å’Œ height[right] çš„å€¼æ›´æ–° leftMax å’Œ rightMax çš„å€¼ï¼›

å¦‚æœ height[left]<height[right]ï¼Œåˆ™å¿…æœ‰ leftMax<rightMaxï¼Œä¸‹æ ‡ left å¤„èƒ½æ¥çš„é›¨æ°´é‡ç­‰äº leftMaxâˆ’height[left]ï¼Œå°†ä¸‹æ ‡ left å¤„èƒ½æ¥çš„é›¨æ°´é‡åŠ åˆ°èƒ½æ¥çš„é›¨æ°´æ€»é‡ï¼Œç„¶åå°† left åŠ  1ï¼ˆå³å‘å³ç§»åŠ¨ä¸€ä½ï¼‰ï¼›

å¦‚æœ height[left]â‰¥height[right]ï¼Œåˆ™å¿…æœ‰ leftMaxâ‰¥rightMaxï¼Œä¸‹æ ‡ right å¤„èƒ½æ¥çš„é›¨æ°´é‡ç­‰äº rightMaxâˆ’height[right]ï¼Œå°†ä¸‹æ ‡ right å¤„èƒ½æ¥çš„é›¨æ°´é‡åŠ åˆ°èƒ½æ¥çš„é›¨æ°´æ€»é‡ï¼Œç„¶åå°† right å‡ 1ï¼ˆå³å‘å·¦ç§»åŠ¨ä¸€ä½ï¼‰ã€‚
"""
class Solution:
    def trap(self, height: List[int]) -> int:
        res = 0
        left, right = 0, len(height)-1
        left_max, right_max = height[left], height[right]
        while left <= right:
            if height[left] < height[right]:
                res += left_max - height[left]
                left += 1
                left_max = max(left_max, height[left])
            else:
                res += right_max - height[right]
                right -= 1
                right_max = max(right_max, height[right])
        return res


# s = Solution()
# s.trap(height = [4,2,0,3,2,5])

"""1616. åˆ†å‰²ä¸¤ä¸ªå­—ç¬¦ä¸²å¾—åˆ°å›æ–‡ä¸² 1868
ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² a å’Œ b ï¼Œå®ƒä»¬é•¿åº¦ç›¸åŒã€‚è¯·ä½ é€‰æ‹©ä¸€ä¸ªä¸‹æ ‡ï¼Œå°†ä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½åœ¨ ç›¸åŒçš„ä¸‹æ ‡ åˆ†å‰²å¼€ã€‚ç”± a å¯ä»¥å¾—åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š aprefix å’Œ asuffix ï¼Œæ»¡è¶³ a = aprefix + asuffix ï¼ŒåŒç†ï¼Œç”± b å¯ä»¥å¾—åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸² bprefix å’Œ bsuffix ï¼Œæ»¡è¶³ b = bprefix + bsuffix ã€‚è¯·ä½ åˆ¤æ–­ aprefix + bsuffix æˆ–è€… bprefix + asuffix èƒ½å¦æ„æˆå›æ–‡ä¸²ã€‚
å½“ä½ å°†ä¸€ä¸ªå­—ç¬¦ä¸² s åˆ†å‰²æˆ sprefix å’Œ ssuffix æ—¶ï¼Œ ssuffix æˆ–è€… sprefix å¯ä»¥ä¸ºç©ºã€‚æ¯”æ–¹è¯´ï¼Œ s = "abc" é‚£ä¹ˆ "" + "abc" ï¼Œ "a" + "bc" ï¼Œ "ab" + "c" å’Œ "abc" + "" éƒ½æ˜¯åˆæ³•åˆ†å‰²ã€‚
å¦‚æœ èƒ½æ„æˆå›æ–‡å­—ç¬¦ä¸² ï¼Œé‚£ä¹ˆè¯·è¿”å› trueï¼Œå¦åˆ™è¿”å› false ã€‚
æ³¨æ„ï¼Œ x + y è¡¨ç¤ºè¿æ¥å­—ç¬¦ä¸² x å’Œ y ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼ša = "x", b = "y"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå¦‚æœ a æˆ–è€… b æ˜¯å›æ–‡ä¸²ï¼Œé‚£ä¹ˆç­”æ¡ˆä¸€å®šä¸º true ï¼Œå› ä¸ºä½ å¯ä»¥å¦‚ä¸‹åˆ†å‰²ï¼š
aprefix = "", asuffix = "x"
bprefix = "", bsuffix = "y"
é‚£ä¹ˆ aprefix + bsuffix = "" + "y" = "y" æ˜¯å›æ–‡ä¸²ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼ša = "xbdef", b = "xecab"
è¾“å‡ºï¼šfalse
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼ša = "ulacfd", b = "jizalu"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šåœ¨ä¸‹æ ‡ä¸º 3 å¤„åˆ†å‰²ï¼š
aprefix = "ula", asuffix = "cfd"
bprefix = "jiz", bsuffix = "alu"
é‚£ä¹ˆ aprefix + bsuffix = "ula" + "alu" = "ulaalu" æ˜¯å›æ–‡ä¸²ã€‚
æç¤ºï¼š
1 <= a.length, b.length <= 105
a.length == b.length
a å’Œ b éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯
"""


class Solution:
    def checkPalindromeFormation(self, a: str, b: str) -> bool:
        # å¦‚æœ a_prefix + b_suffix å¯ä»¥æ„æˆå›æ–‡ä¸²åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False
        def check(a, b):
            left, right = 0, len(a) - 1  # ç›¸å‘åŒæŒ‡é’ˆ
            while left < right:
                if a[left] != b[right]:
                    # ä¸­é—´å‰©ä½™éƒ¨åˆ† åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡ä¸²
                    return a[left:right+1] == a[left:right+1][::-1] or b[left:right+1] == b[left:right+1][::-1]

                left += 1
                right -= 1
            return True
        return check(a, b) or check(b, a)


# s = Solution()
# s.checkPalindromeFormation(a = "ulacfd", b = "jizalu")

# r = s.checkPalindromeFormation(a = "abdef", b = "fecab")
# r = s.checkPalindromeFormation(a = "pvhmupgqeltozftlmfjjde", b = "yjgpzbezspnnpszebzmhvp")

"""1498. æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›® 2276
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚
è¯·ä½ ç»Ÿè®¡å¹¶è¿”å› nums ä¸­èƒ½æ»¡è¶³å…¶æœ€å°å…ƒç´ ä¸æœ€å¤§å…ƒç´ çš„ å’Œ å°äºæˆ–ç­‰äº target çš„ éç©º å­åºåˆ—çš„æ•°ç›®ã€‚
ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ 109 + 7 å–ä½™åè¿”å›ã€‚
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [3,5,6,7], target = 9
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ‰ 4 ä¸ªå­åºåˆ—æ»¡è¶³è¯¥æ¡ä»¶ã€‚
[3] -> æœ€å°å…ƒç´  + æœ€å¤§å…ƒç´  <= target (3 + 3 <= 9)
[3,5] -> (3 + 5 <= 9)
[3,5,6] -> (3 + 6 <= 9)
[3,6] -> (3 + 6 <= 9)
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [3,3,6,8], target = 10
è¾“å‡ºï¼š6
è§£é‡Šï¼šæœ‰ 6 ä¸ªå­åºåˆ—æ»¡è¶³è¯¥æ¡ä»¶ã€‚ï¼ˆnums ä¸­å¯ä»¥æœ‰é‡å¤æ•°å­—ï¼‰
[3] , [3] , [3,3], [3,6] , [3,6] , [3,3,6]
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums = [2,3,3,4,6,7], target = 12
è¾“å‡ºï¼š61
è§£é‡Šï¼šå…±æœ‰ 63 ä¸ªéç©ºå­åºåˆ—ï¼Œå…¶ä¸­ 2 ä¸ªä¸æ»¡è¶³æ¡ä»¶ï¼ˆ[6,7], [7]ï¼‰
æœ‰æ•ˆåºåˆ—æ€»æ•°ä¸ºï¼ˆ63 - 2 = 61ï¼‰
æç¤ºï¼š
1 <= nums.length <= 105
1 <= nums[i] <= 106
1 <= target <= 106
"""


class Solution:
    def numSubseq(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums.sort()
        left, right = 0, n - 1
        res = 0
        while left <= right:
            if nums[left] + nums[right] > target:
                right -= 1
                continue
            res += 2 ** (right - left) % (10 ** 9 + 7)
            left += 1
        return res % (10 ** 9 + 7)


class Solution:
    def numSubseq(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums.sort()
        f = [1] + [0] * (n - 1)  # 2çš„iæ¬¡æ–¹æ•°ç»„
        p = 10 ** 9 + 7
        for i in range(1, n):
            f[i] = f[i - 1] * 2 % p   # 2çš„iæ¬¡æ–¹

        left, right = 0, n - 1
        res = 0
        # åŒæŒ‡é’ˆ
        while left <= right:
            if nums[left] + nums[right] > target:
                right -= 1
                continue
            res += f[right - left]
            left += 1
        return res % (10 ** 9 + 7)


# s = Solution()
# s.numSubseq(nums = [3,5,6,7], target = 9)




























































































































































































































